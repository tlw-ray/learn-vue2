<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <style> body {margin: 0; }</style>
        <script src="js/three.js"></script>
        <script src="js/three-spritetext.js"></script>
        <script src="js/3d-force-graph.js"></script>
    </head>
    <body>
        <div id="3d-graph"></div>
        <script>
        const Graph = ForceGraph3D()
        (document.getElementById('3d-graph'))
            .jsonUrl('dataset/miserables.json')
            .nodeAutoColorBy('group')
            .nodeThreeObject(node => {
                console.log(node)
                const sprite = new SpriteText(node.id);
                // make sprite background transparent
                sprite.material.depthWrite = false; 
                sprite.color = node.color;
                sprite.textHeight = 8;
                return sprite;
            });
            // Spread nodes a little wider
            Graph.d3Force('charge').strength(-120);
        </script>
    </body>
</html>